<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MWD Lecture 05: PHP Master Lab v2</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <style>
      /* --- VARIABLES --- */
      :root {
        /* Premium Liquid Glass Theme */
        --ide-bg: rgba(15, 15, 25, 0.95);
        --ide-border: rgba(255, 255, 255, 0.08);
        --ide-blur: 40px;
        --sidebar-bg: rgba(0, 0, 0, 0.3);

        --text-main: #ffffff;
        --text-dim: #a0a0a0;

        /* PHP THEME COLORS */
        --accent: #8892bf; /* PHP Purple */
        --accent-glow: rgba(136, 146, 191, 0.4);
        --error: #ff5f56;
        --success: #27c93f;

        /* SYNTAX HIGHLIGHTING */
        --var-color: #9876aa; /* Variables $ */
        --func-color: #61afef; /* Functions */
        --str-color: #98c379; /* Strings */
        --kwd-color: #cc7832; /* Keywords (echo, if) */
        --num-color: #6897bb; /* Numbers */
        --op-color: #a9b7c6; /* Operators */
        --comment-color: #5c6370;

        --code-bg: rgba(0, 0, 0, 0.5);
        --nav-bg: rgba(10, 10, 10, 0.7);
        --pill-bg: rgba(255, 255, 255, 0.15);
      }

      body.light-mode {
        --ide-bg: rgba(255, 255, 255, 0.95);
        --ide-border: rgba(0, 0, 0, 0.1);
        --sidebar-bg: rgba(240, 240, 255, 0.5);
        --text-main: #1a1a1a;
        --text-dim: #555555;
        --accent: #4f5b93;
        --code-bg: #fafafa;
        --nav-bg: rgba(255, 255, 255, 0.85);
        --pill-bg: rgba(0, 0, 0, 0.05);
      }

      /* --- RESET --- */
      * {
        box-sizing: border-box;
        outline: none;
      }
      html.lenis,
      html.lenis body {
        height: auto;
      }
      .lenis.lenis-smooth {
        scroll-behavior: auto !important;
      }

      body {
        margin: 0;
        padding: 0;
        background: url("https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=2070&auto=format&fit=crop")
          center/cover no-repeat fixed;
        font-family: "Plus Jakarta Sans", sans-serif;
        color: var(--text-main);
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
        padding-top: 100px;
      }

      /* --- NAV --- */
      .glass-nav-container {
        position: fixed;
        top: 10px;
        left: 0;
        width: 100%;
        display: flex;
        justify-content: center;
        z-index: 1050;
        pointer-events: none;
      }
      .glass-nav {
        pointer-events: auto;
        position: relative;
        background: var(--nav-bg);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid var(--ide-border);
        padding: 6px;
        border-radius: 60px;
        display: flex;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
      }
      .nav-link-custom {
        position: relative;
        text-decoration: none;
        color: var(--text-dim);
        font-size: 14px;
        font-weight: 600;
        padding: 12px 24px;
        border-radius: 50px;
        z-index: 2;
        transition: color 0.3s;
      }
      .nav-link-custom.active,
      .nav-link-custom:hover {
        color: var(--text-main);
      }
      .nav-pill {
        position: absolute;
        top: 6px;
        left: 6px;
        height: calc(100% - 12px);
        background: var(--pill-bg);
        border-radius: 50px;
        z-index: 1;
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        opacity: 0;
      }

      /* --- TOP CONTROLS --- */
      .top-controls {
        position: fixed;
        top: 15px;
        right: 40px;
        display: flex;
        gap: 15px;
        z-index: 1051;
      }
      .control-btn {
        width: 44px;
        height: 44px;
        border-radius: 50%;
        border: 1px solid var(--ide-border);
        background: rgba(0, 0, 0, 0.6);
        color: #fff;
        backdrop-filter: blur(12px);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: 0.3s;
        font-size: 16px;
      }
      .control-btn:hover {
        background: var(--accent);
        transform: scale(1.1);
        border-color: var(--accent);
      }

      /* --- IDE WINDOW --- */
      .ide-window {
        width: 95%;
        max-width: 1600px;
        height: 85vh;
        position: relative;
        margin-bottom: 30px;
        top: -20px;
        background: var(--ide-bg);
        backdrop-filter: blur(var(--ide-blur));
        border: 1px solid var(--ide-border);
        box-shadow:
          0 40px 100px rgba(0, 0, 0, 0.6),
          inset 0 0 0 1px rgba(255, 255, 255, 0.05);
        border-radius: 16px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        transition: 0.3s;
      }

      .title-bar {
        height: 44px;
        background: rgba(0, 0, 0, 0.2);
        border-bottom: 1px solid var(--ide-border);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        font-size: 13px;
        color: var(--text-dim);
        font-family: "JetBrains Mono", monospace;
      }
      .window-controls {
        position: absolute;
        left: 18px;
        display: flex;
        gap: 8px;
      }
      .dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
      }
      .red {
        background: #ff5f56;
      }
      .yellow {
        background: #ffbd2e;
      }
      .green {
        background: #27c93f;
      }

      .ide-body {
        display: flex;
        flex: 1;
        overflow: hidden;
      }

      .activity-bar {
        width: 60px;
        background: var(--sidebar-bg);
        border-right: 1px solid var(--ide-border);
        display: flex;
        flex-direction: column;
        align-items: center;
        padding-top: 20px;
        gap: 25px;
      }
      .sidebar-icon {
        width: 40px;
        height: 40px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-dim);
        border-radius: 8px;
        cursor: pointer;
        transition: 0.2s;
        font-size: 18px;
        text-decoration: none;
      }
      .sidebar-icon:hover,
      .sidebar-icon.active {
        color: var(--text-main);
        background: rgba(255, 255, 255, 0.1);
        box-shadow: 0 0 15px var(--accent-glow);
      }

      .editor-area {
        flex: 1;
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden;
      }

      .content-scroll {
        height: 100%;
        overflow-y: auto;
        padding: 50px;
        scroll-behavior: smooth;
        overscroll-behavior: contain;
      }
      .content-scroll::-webkit-scrollbar {
        width: 6px;
      }
      .content-scroll::-webkit-scrollbar-track {
        background: transparent;
      }
      .content-scroll::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.15);
        border-radius: 4px;
      }
      .content-scroll::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
      }

      /* --- LAB SPECIFIC STYLES --- */
      h1 {
        font-size: 2.2rem;
        margin-bottom: 30px;
        border-bottom: 1px solid var(--ide-border);
        padding-bottom: 15px;
        font-weight: 700;
      }
      h2 {
        color: var(--accent);
        font-size: 1.6rem;
        margin-top: 60px;
        margin-bottom: 20px;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .sub-header {
        color: var(--text-dim);
        font-size: 0.9rem;
        margin-bottom: 20px;
        font-style: italic;
      }

      .intro-poem {
        background: linear-gradient(
          90deg,
          rgba(136, 146, 191, 0.1),
          transparent
        );
        border-left: 4px solid var(--accent);
        padding: 20px;
        margin-bottom: 40px;
        font-family: "JetBrains Mono", monospace;
        color: var(--text-dim);
        font-size: 14px;
        line-height: 1.8;
      }
      .intro-poem span {
        display: block;
      }

      /* Lab Grid */
      .lab-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
        gap: 25px;
      }
      .lab-card {
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid var(--ide-border);
        border-radius: 12px;
        padding: 25px;
        transition: 0.3s;
        display: flex;
        flex-direction: column;
        gap: 15px;
      }
      .lab-card:hover {
        border-color: var(--accent);
        transform: translateY(-4px);
      }
      .lab-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 12px;
        font-weight: 700;
        text-transform: uppercase;
        color: #888;
        letter-spacing: 1px;
      }

      /* RAPID FIRE GRID */
      .rapid-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 12px;
        margin-bottom: 20px;
      }
      .rapid-item {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--ide-border);
        border-radius: 8px;
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        transition: 0.2s;
      }
      .rapid-item:hover {
        border-color: var(--accent);
        background: rgba(136, 146, 191, 0.1);
      }
      .rapid-label {
        font-size: 11px;
        color: #888;
        font-weight: 700;
        text-transform: uppercase;
      }
      .rapid-val {
        color: var(--func-color);
        font-family: "JetBrains Mono";
        font-size: 12px;
      }

      /* PHP Terminal/Output Stage */
      .terminal-stage {
        background: #0d0d0d;
        border: 1px solid var(--ide-border);
        border-radius: 8px;
        min-height: 80px;
        padding: 15px;
        font-family: "JetBrains Mono", monospace;
        font-size: 13px;
        color: #ccc;
        position: relative;
        overflow: hidden;
      }
      .terminal-header {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 24px;
        background: rgba(255, 255, 255, 0.1);
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        display: flex;
        align-items: center;
        padding: 0 10px;
        font-size: 10px;
        color: #888;
      }
      .terminal-body {
        margin-top: 15px;
        white-space: pre-wrap;
        line-height: 1.5;
      }

      /* Controls */
      .ctrl-group {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 5px;
        align-items: center;
      }

      input[type="text"],
      input[type="number"],
      input[type="password"],
      input[type="email"],
      select {
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid var(--ide-border);
        color: white;
        padding: 8px 12px;
        border-radius: 6px;
        font-family: "JetBrains Mono";
        font-size: 12px;
        flex: 1;
        outline: none;
        transition: 0.2s;
      }
      input:focus,
      select:focus {
        border-color: var(--accent);
      }

      .run-btn {
        background: var(--accent);
        border: none;
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 11px;
        font-weight: 700;
        cursor: pointer;
        transition: 0.2s;
        white-space: nowrap;
      }
      .run-btn.small {
        padding: 4px 8px;
        font-size: 10px;
      }
      .run-btn:hover {
        background: white;
        color: var(--accent);
      }

      /* FILE TAB SIMULATOR */
      .file-tabs {
        display: flex;
        gap: 5px;
        margin-bottom: 10px;
      }
      .file-tab {
        padding: 5px 10px;
        border-radius: 4px 4px 0 0;
        background: rgba(255, 255, 255, 0.05);
        font-size: 12px;
        cursor: default;
        color: #888;
        font-family: "JetBrains Mono";
      }
      .file-tab.active {
        background: var(--code-bg);
        color: var(--text-main);
        border: 1px solid var(--ide-border);
        border-bottom: none;
      }

      /* Syntax Highlighting Classes */
      .php-tag {
        color: #e06c75;
        font-weight: bold;
      }
      .kwd {
        color: var(--kwd-color);
      }
      .var {
        color: var(--var-color);
      }
      .str {
        color: var(--str-color);
      }
      .func {
        color: var(--func-color);
      }
      .num {
        color: var(--num-color);
      }
      .op {
        color: var(--op-color);
      }
      .comment {
        color: var(--comment-color);
        font-style: italic;
      }

      pre {
        background: var(--code-bg);
        padding: 15px;
        border: 1px solid var(--ide-border);
        border-radius: 8px;
        font-family: "JetBrains Mono", monospace;
        font-size: 12px;
        color: #abb2bf;
        overflow-x: auto;
        white-space: pre-wrap;
        margin: 0;
        line-height: 1.4;
      }

      /* Exam & Footer */
      .qa-card {
        background: rgba(255, 255, 255, 0.02);
        border-left: 3px solid var(--accent);
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 0 6px 6px 0;
        cursor: pointer;
        transition: 0.2s;
      }
      .qa-card:hover {
        background: rgba(255, 255, 255, 0.05);
      }
      .q-ans {
        display: none;
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid var(--ide-border);
        color: var(--text-dim);
        font-size: 13px;
      }

      .site-footer {
        width: 100%;
        position: relative;
        margin-top: auto;
        background: #050505;
        color: #888;
        padding: 60px 0 30px;
        border-top: 1px solid #222;
      }
      .social-icon {
        width: 40px;
        height: 40px;
        background: #1a1a1a;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        text-decoration: none;
        transition: 0.3s;
        border: 1px solid #333;
        font-size: 18px;
        margin: 0 5px;
      }
      .social-icon:hover {
        transform: translateY(-3px);
        border-color: var(--accent);
        color: var(--accent);
      }

      .w3-cta {
        width: 95%;
        max-width: 800px;
        margin: 0 auto 50px auto;
        background: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(10px);
        border: 1px solid var(--accent);
        padding: 30px;
        border-radius: 12px;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      }
      .w3-btn {
        background: #04aa6d;
        color: white;
        padding: 12px 30px;
        text-decoration: none;
        font-weight: bold;
        border-radius: 25px;
        transition: 0.3s;
        display: inline-block;
      }
      .w3-btn:hover {
        background: #059862;
        transform: scale(1.05);
        box-shadow: 0 0 15px rgba(4, 170, 109, 0.5);
      }
    </style>
  </head>
  <body>
    <div class="glass-nav-container">
      <nav class="glass-nav">
        <div class="nav-pill"></div>
        <a href="index.html" class="nav-link-custom">Home</a>
        <a href="html practice.html" class="nav-link-custom">HTML</a>
        <a href="css practice.html" class="nav-link-custom">CSS</a>
        <a href="js practise.html" class="nav-link-custom">JS</a>
        <a href="jquery practice.html" class="nav-link-custom">Jquery</a>
        <a href="bootstrap.html" class="nav-link-custom">Bootstrap</a>
        <a
          href="php practise.html"
          class="nav-link-custom active"
          onclick="setActive(this)"
          >PHP</a
        >
      </nav>
    </div>

    <div class="top-controls">
      <button class="control-btn" onclick="toggleTheme()">
        <i class="fas fa-adjust" id="themeIcon"></i>
      </button>
      <button class="control-btn" onclick="toggleFullScreen()">
        <i class="fas fa-expand" id="fsIcon"></i>
      </button>
    </div>

    <div class="ide-window">
      <div class="title-bar">
        <div class="window-controls">
          <div class="dot red"></div>
          <div class="dot yellow"></div>
          <div class="dot green"></div>
        </div>
        <span>index.php ‚Äî Visual Studio Code</span>
      </div>

      <div class="ide-body">
        <div class="activity-bar">
          <a href="#basics" class="sidebar-icon" title="Basics"
            ><i class="fab fa-php"></i
          ></a>
          <a href="#forms" class="sidebar-icon" title="Forms & Validation"
            ><i class="fas fa-envelope-open-text"></i
          ></a>
          <a href="#db" class="sidebar-icon" title="Database Config"
            ><i class="fas fa-database"></i
          ></a>
          <a href="#strings" class="sidebar-icon" title="Strings"
            ><i class="fas fa-font"></i
          ></a>
          <a href="#math" class="sidebar-icon" title="Math"
            ><i class="fas fa-calculator"></i
          ></a>
          <a href="#scenarios" class="sidebar-icon" title="Exam Scenarios"
            ><i class="fas fa-clipboard-check"></i
          ></a>
          <div style="flex: 1"></div>
          <a href="#exam" class="sidebar-icon" title="Exam"
            ><i class="fas fa-graduation-cap"></i
          ></a>
        </div>

        <div class="editor-area">
          <div class="content-scroll" data-lenis-prevent>
            <div id="intro">
              <h1>
                PHP <span style="color: var(--accent)">Master Lab v2.0</span>
              </h1>
              <p class="text-secondary mb-4">
                A Complete Guide: Syntax ‚Ä¢ Forms ‚Ä¢ Validation ‚Ä¢ Database ‚Ä¢ Logic
              </p>

              <div class="intro-poem">
                <span>1.1 &lt;?php starts the server's song.</span>
                <span>1.2 Variables start with $, can't go wrong.</span>
                <span>1.3 Echo outputs text to the screen.</span>
                <span>1.4 $_POST hides data, nice and clean.</span>
                <span>1.5 Connect to DB with config file.</span>
                <span>1.6 Welcome to the Backend style.</span>
              </div>
            </div>

            <h2 id="basics">
              <i class="fas fa-terminal"></i> 1. The Absolute Basics
            </h2>
            <div class="sub-header">
              Every PHP file must start with &lt;?php. It runs on the server,
              not the browser.
            </div>

            <div class="lab-grid">
              <div class="lab-card">
                <div class="lab-header"><span>01. Syntax & Echo</span></div>
                <div class="ctrl-group">
                  <input
                    type="text"
                    id="echoIn"
                    value="Hello World"
                    placeholder="Enter text..."
                  />
                  <button class="run-btn" onclick="run('echo')">
                    <i class="fas fa-play"></i> Run
                  </button>
                </div>
                <pre id="code_echo"><span class="php-tag">&lt;?php</span>
<span class="comment">// This prints text to the screen</span>
<span class="kwd">echo</span> <span class="str">"Hello World"</span><span class="op">;</span>
<span class="php-tag">?&gt;</span></pre>
                <div class="terminal-stage">
                  <div class="terminal-body" id="out_echo">Hello World</div>
                </div>
              </div>

              <div class="lab-card">
                <div class="lab-header"><span>02. Variables & Math</span></div>
                <div class="ctrl-group">
                  <span class="var">$x = </span
                  ><input
                    type="number"
                    id="varX"
                    value="5"
                    style="width: 60px"
                  />
                  <span class="var">$y = </span
                  ><input
                    type="number"
                    id="varY"
                    value="10"
                    style="width: 60px"
                  />
                  <button class="run-btn" onclick="run('calc')">Add</button>
                </div>
                <pre id="code_calc"><span class="php-tag">&lt;?php</span>
<span class="var">$x</span> <span class="op">=</span> <span class="num">5</span><span class="op">;</span>
<span class="var">$y</span> <span class="op">=</span> <span class="num">10</span><span class="op">;</span>
<span class="kwd">echo</span> <span class="var">$x</span> <span class="op">+</span> <span class="var">$y</span><span class="op">;</span>
<span class="php-tag">?&gt;</span></pre>
                <div class="terminal-stage">
                  <div class="terminal-header">RESULT</div>
                  <div class="terminal-body" id="out_calc">15</div>
                </div>
              </div>
            </div>

            <h2 id="forms">
              <i class="fas fa-envelope-open-text"></i> 2. Forms & Validation
            </h2>
            <div class="sub-header">
              Securely handling user input. GET shows data in URL, POST hides it
              (secure).
            </div>

            <div class="lab-grid">
              <div class="lab-card">
                <div class="lab-header">
                  <span>03. GET Method (Insecure)</span>
                </div>
                <p style="font-size: 12px; color: #aaa; margin: 0">
                  Notice how data appears in the URL bar.
                </p>
                <div
                  class="visual-stage"
                  style="
                    padding: 15px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 6px;
                  "
                >
                  <input
                    type="text"
                    id="getName"
                    placeholder="Search Query..."
                    style="width: 100%; margin-bottom: 10px"
                  />
                  <button class="run-btn" onclick="run('get_sim')">
                    Search (GET)
                  </button>
                </div>
                <div
                  class="terminal-stage"
                  style="margin-top: 10px; border-color: var(--accent)"
                >
                  <div class="terminal-header">BROWSER URL BAR</div>
                  <div
                    class="terminal-body"
                    id="out_url"
                    style="color: var(--str-color)"
                  >
                    website.com/search.php
                  </div>
                </div>
                <pre id="code_get"><span class="php-tag">&lt;?php</span>
<span class="var">$query</span> <span class="op">=</span> <span class="var">$_GET</span>[<span class="str">'q'</span>]<span class="op">;</span>
<span class="kwd">echo</span> <span class="str">"You searched: "</span> <span class="op">.</span> <span class="var">$query</span><span class="op">;</span>
<span class="php-tag">?&gt;</span></pre>
              </div>

              <div class="lab-card">
                <div class="lab-header">
                  <span>04. POST & Validation (Secure)</span>
                </div>
                <p style="font-size: 12px; color: #aaa; margin: 0">
                  Server checks if empty before accepting.
                </p>

                <div
                  class="visual-stage"
                  style="
                    padding: 15px;
                    background: rgba(255, 255, 255, 0.05);
                    border-radius: 6px;
                  "
                >
                  <input
                    type="text"
                    id="postEmail"
                    placeholder="Email Address"
                    style="width: 100%; margin-bottom: 10px"
                  />
                  <button class="run-btn" onclick="run('validate_form')">
                    Submit (POST)
                  </button>
                </div>

                <div class="terminal-stage" style="margin-top: 10px">
                  <div class="terminal-header">SERVER RESPONSE</div>
                  <div class="terminal-body" id="out_validation">
                    Waiting for input...
                  </div>
                </div>

                <pre id="code_validate"><span class="php-tag">&lt;?php</span>
<span class="kwd">if</span> (<span class="var">$_SERVER</span>[<span class="str">"REQUEST_METHOD"</span>] == <span class="str">"POST"</span>) {
  <span class="var">$email</span> <span class="op">=</span> <span class="func">test_input</span>(<span class="var">$_POST</span>[<span class="str">"email"</span>]);
  
  <span class="kwd">if</span> (<span class="kwd">empty</span>(<span class="var">$email</span>)) {
    <span class="kwd">echo</span> <span class="str">"Email is required!"</span><span class="op">;</span>
  } <span class="kwd">else</span> {
    <span class="kwd">echo</span> <span class="str">"Success: "</span> <span class="op">.</span> <span class="var">$email</span><span class="op">;</span>
  }
}
<span class="php-tag">?&gt;</span></pre>
              </div>
            </div>

            <h2 id="db">
              <i class="fas fa-database"></i> 3. Database Connection
              (Config.php)
            </h2>
            <div class="sub-header">
              We typically store DB credentials in a separate file called
              <code>config.php</code>.
            </div>

            <div class="lab-card" style="max-width: 100%">
              <div class="file-tabs">
                <div class="file-tab active">config.php</div>
                <div class="file-tab" style="opacity: 0.5">index.php</div>
              </div>
              <div style="display: flex; gap: 20px; flex-wrap: wrap">
                <div style="flex: 1; min-width: 300px">
                  <pre
                    style="height: 100%"
                  ><span class="php-tag">&lt;?php</span>
<span class="comment">/* Database Credentials */</span>
<span class="func">define</span>(<span class="str">'DB_SERVER'</span>, <span class="str">'localhost'</span>);
<span class="func">define</span>(<span class="str">'DB_USERNAME'</span>, <span class="str">'root'</span>);
<span class="func">define</span>(<span class="str">'DB_PASSWORD'</span>, <span class="str">''</span>);
<span class="func">define</span>(<span class="str">'DB_NAME'</span>, <span class="str">'my_shop'</span>);

<span class="comment">/* Attempt to connect to MySQL database */</span>
<span class="var">$link</span> <span class="op">=</span> <span class="func">mysqli_connect</span>(<span class="kwd">DB_SERVER</span>, <span class="kwd">DB_USERNAME</span>, <span class="kwd">DB_PASSWORD</span>, <span class="kwd">DB_NAME</span>);

<span class="comment">/* Check connection */</span>
<span class="kwd">if</span>(<span class="var">$link</span> <span class="op">===</span> <span class="kwd">false</span>){
    <span class="kwd">die</span>(<span class="str">"ERROR: Could not connect. "</span> <span class="op">.</span> <span class="func">mysqli_connect_error</span>());
}
<span class="php-tag">?&gt;</span></pre>
                </div>
                <div
                  style="
                    flex: 1;
                    display: flex;
                    flex-direction: column;
                    gap: 10px;
                    min-width: 300px;
                  "
                >
                  <div
                    class="visual-stage"
                    style="
                      padding: 20px;
                      background: rgba(0, 0, 0, 0.3);
                      border: 1px solid var(--ide-border);
                      border-radius: 8px;
                      display: flex;
                      flex-direction: column;
                      align-items: center;
                      justify-content: center;
                      height: 100%;
                    "
                  >
                    <i
                      class="fas fa-server"
                      style="font-size: 40px; color: #444; margin-bottom: 10px"
                      id="dbIcon"
                    ></i>
                    <div id="dbStatus" style="color: #666; font-weight: bold">
                      DISCONNECTED
                    </div>
                    <button
                      class="run-btn"
                      style="margin-top: 15px; transform: scale(1.2)"
                      onclick="run('db_connect')"
                    >
                      Simulate Connection
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <h2 id="strings">
              <i class="fas fa-font"></i> 4. String Functions (Rapid Fire)
            </h2>
            <div class="lab-card">
              <div class="lab-header"><span>Testing String:</span></div>
              <div class="ctrl-group">
                <input
                  type="text"
                  id="strMain"
                  value="Hello World PHP"
                  style="width: 100%"
                />
              </div>

              <div class="rapid-grid">
                <div class="rapid-item">
                  <div class="rapid-label">strlen()</div>
                  <button class="run-btn small" onclick="run('strlen')">
                    Count
                  </button>
                  <div class="rapid-val" id="out_strlen">...</div>
                </div>
                <div class="rapid-item">
                  <div class="rapid-label">str_word_count()</div>
                  <button class="run-btn small" onclick="run('strword')">
                    Words
                  </button>
                  <div class="rapid-val" id="out_strword">...</div>
                </div>
                <div class="rapid-item">
                  <div class="rapid-label">strrev()</div>
                  <button class="run-btn small" onclick="run('strrev')">
                    Reverse
                  </button>
                  <div class="rapid-val" id="out_strrev">...</div>
                </div>
                <div class="rapid-item">
                  <div class="rapid-label">strpos("PHP")</div>
                  <button class="run-btn small" onclick="run('strpos')">
                    Find Pos
                  </button>
                  <div class="rapid-val" id="out_strpos">...</div>
                </div>
                <div class="rapid-item">
                  <div class="rapid-label">str_replace()</div>
                  <button class="run-btn small" onclick="run('strrep')">
                    Swap 'PHP'
                  </button>
                  <div class="rapid-val" id="out_strrep">...</div>
                </div>
              </div>
              <pre id="code_str" style="min-height: 50px">
Waiting for command...</pre
              >
            </div>

            <h2 id="scenarios">
              <i class="fas fa-clipboard-check"></i> 5. Exam Scenarios (Applied
              Logic)
            </h2>
            <div class="sub-header">
              Solutions to specific past paper questions: Discount Logic, Hotel
              Reservations, and DB Inserts.
            </div>

            <div class="lab-grid">
              <div class="lab-card">
                <div class="lab-header"><span>Q: Discount Policy</span></div>
                <p style="font-size: 12px; color: #aaa; margin: 0">
                  Rules: &lt;10 (0%), 10-49 (10%), 50-99 (15%), &gt;100 (25%)
                </p>
                <div class="ctrl-group">
                  <span class="var">Price: </span
                  ><input
                    type="number"
                    id="discPrice"
                    value="100"
                    style="width: 60px"
                  />
                  <span class="var">Qty: </span
                  ><input
                    type="number"
                    id="discQty"
                    value="12"
                    style="width: 60px"
                  />
                  <button class="run-btn" onclick="runScenario('discount')">
                    Calculate
                  </button>
                </div>
                <div class="terminal-stage">
                  <div class="terminal-body" id="out_discount">Waiting...</div>
                </div>
                <pre id="code_discount"><span class="php-tag">&lt;?php</span>
<span class="comment">// Logic for 10%, 15%, 25% discount</span>
<span class="kwd">if</span> (<span class="var">$qty</span> >= <span class="num">100</span>) <span class="var">$disc</span> = <span class="num">0.25</span>;
<span class="kwd">elseif</span> (<span class="var">$qty</span> >= <span class="num">50</span>) <span class="var">$disc</span> = <span class="num">0.15</span>;
<span class="kwd">elseif</span> (<span class="var">$qty</span> >= <span class="num">10</span>) <span class="var">$disc</span> = <span class="num">0.10</span>;
<span class="php-tag">?&gt;</span></pre>
              </div>

              <div class="lab-card">
                <div class="lab-header"><span>Q: Hotel Reservation</span></div>
                <div
                  class="ctrl-group"
                  style="
                    display: flex;
                    flex-direction: column;
                    align-items: stretch;
                  "
                >
                  <select id="hotelRoom" style="margin-bottom: 5px">
                    <option value="Standard">Standard (5000/0)</option>
                    <option value="Deluxe">Deluxe (8000/2000)</option>
                    <option value="Suite">Suite (12000/3000)</option>
                  </select>
                  <div style="display: flex; gap: 10px">
                    <input
                      type="number"
                      id="hotelDays"
                      placeholder="Days"
                      value="2"
                    />
                    <input
                      type="number"
                      id="hotelKids"
                      placeholder="Kids"
                      value="1"
                    />
                    <button class="run-btn" onclick="runScenario('hotel')">
                      Book
                    </button>
                  </div>
                </div>
                <div class="terminal-stage">
                  <div class="terminal-body" id="out_hotel">Total: ...</div>
                </div>
                <pre id="code_hotel"><span class="php-tag">&lt;?php</span>
<span class="var">$total</span> = (<span class="var">$rate</span> + (<span class="var">$kids</span> * <span class="var">$childRate</span>)) * <span class="var">$days</span>;
<span class="func">mysqli_query</span>(<span class="var">$conn</span>, <span class="str">"INSERT INTO Customers..."</span>);
<span class="php-tag">?&gt;</span></pre>
              </div>

              <div class="lab-card">
                <div class="lab-header"><span>Q: Participant Insert</span></div>

                <div class="ctrl-group">
                  <input
                    type="text"
                    id="partName"
                    placeholder="Name"
                    style="width: 100px"
                  />
                  <input
                    type="text"
                    id="partEmail"
                    placeholder="Email"
                    style="width: 100px"
                  />
                  <button class="run-btn" onclick="runScenario('insert')">
                    Insert
                  </button>
                </div>
                <div class="terminal-stage">
                  <div class="terminal-body" id="out_insert">Waiting...</div>
                </div>
                <pre id="code_insert"><span class="php-tag">&lt;?php</span>
<span class="kwd">include</span> <span class="str">'config.php'</span>; <span class="comment">// User: dbuser</span>
<span class="var">$sql</span> = <span class="str">"INSERT INTO ParticipantDetails..."</span>;
<span class="func">mysqli_query</span>(<span class="var">$conn</span>, <span class="var">$sql</span>);
<span class="php-tag">?&gt;</span></pre>
              </div>

              <div class="lab-card">
                <div class="lab-header"><span>Q: SQL Group By</span></div>
                <p style="font-size: 12px; color: #aaa">
                  Query to show total quantity per item.
                </p>
                <pre
                  style="margin-top: 0"
                ><span class="kwd">SELECT</span> item_name, <span class="func">SUM</span>(quantity) <span class="kwd">AS</span> Total
<span class="kwd">FROM</span> purchased_items
<span class="kwd">GROUP BY</span> item_name;</pre>
              </div>
            </div>

            <div id="exam" style="margin-top: 100px">
              <h1 class="text-center mb-4">üèÜ 20 Question PHP Exam</h1>
              <div id="examContainer" class="d-grid gap-2"></div>
            </div>

            <div style="height: 100px"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="w3-cta">
      <h2 style="margin: 0 0 10px 0; font-size: 1.4rem">Need More Practice?</h2>
      <p style="margin: 0; color: #ccc">
        Explore thousands of PHP tutorials and examples outside this IDE.
      </p>
      <a href="https://www.w3schools.com/php/" target="_blank" class="w3-btn"
        >Visit W3Schools</a
      >
    </div>

    <footer class="site-footer">
      <div
        style="
          max-width: 1200px;
          margin: 0 auto;
          padding: 0 30px;
          display: flex;
          flex-direction: column;
          align-items: center;
        "
      >
        <h3 style="color: var(--text-main); margin-bottom: 10px">
          Contact & Connect
        </h3>
        <p>Galle, Sri Lanka ‚Ä¢ anuththarawickramasekara424@gmail.com</p>
        <div class="social-links">
          <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
          <a href="#" class="social-icon"
            ><span style="font-weight: bold; font-family: sans-serif"
              >fi</span
            ></a
          >
          <a href="#" class="social-icon"><i class="fas fa-envelope"></i></a>
        </div>
        <div
          style="
            margin-top: 40px;
            border-top: 1px solid #222;
            width: 100%;
            text-align: center;
            padding-top: 20px;
          "
        >
          <p style="font-size: 12px; opacity: 0.6">
            Built by Anuththara Wickramasekara ¬© 2026
          </p>
        </div>
      </div>
    </footer>

    <script>
      /* --- SMOOTH SCROLL --- */
      const lenis = new Lenis();
      function raf(time) {
        lenis.raf(time);
        requestAnimationFrame(raf);
      }
      requestAnimationFrame(raf);

      /* --- NAV & THEME --- */
      const pill = document.querySelector(".nav-pill");
      function setActive(el) {
        document
          .querySelectorAll(".nav-link-custom")
          .forEach((n) => n.classList.remove("active"));
        el.classList.add("active");
        movePill(el);
      }
      function movePill(el) {
        pill.style.opacity = "1";
        pill.style.width = `${el.offsetWidth}px`;
        pill.style.left = `${el.offsetLeft}px`;
      }
      setTimeout(
        () => movePill(document.querySelector(".nav-link-custom.active")),
        100,
      );
      document
        .querySelector(".glass-nav")
        .addEventListener("mouseleave", () => {
          const active = document.querySelector(".nav-link-custom.active");
          if (active) movePill(active);
        });

      function toggleTheme() {
        document.body.classList.toggle("light-mode");
        const icon = document.getElementById("themeIcon");
        icon.classList.toggle("fa-adjust");
        icon.classList.toggle("fa-sun");
      }
      function toggleFullScreen() {
        if (!document.fullscreenElement)
          document.documentElement.requestFullscreen();
        else document.exitFullscreen();
      }

      /* --- PHP SIMULATOR ENGINE --- */
      function run(type) {
        // --- BASICS ---
        if (type === "echo") {
          const val = document.getElementById("echoIn").value;
          document.getElementById("out_echo").innerText = val;
          render("code_echo", `// Echo prints text\necho "${val}";`);
        } else if (type === "calc") {
          const x = parseFloat(document.getElementById("varX").value);
          const y = parseFloat(document.getElementById("varY").value);
          document.getElementById("out_calc").innerText = x + y;
          render("code_calc", `$x = ${x};\n$y = ${y};\necho $x + $y;`);
        }

        // --- GET SIMULATOR ---
        else if (type === "get_sim") {
          const val = document.getElementById("getName").value;
          // Simulate URL Encoding
          const encoded = encodeURIComponent(val);
          document.getElementById("out_url").innerHTML =
            `website.com/search.php?<span style="color:white; font-weight:bold;">q=${encoded}</span>`;
          render(
            "code_get",
            `$query = $_GET['q']; // "${val}"\necho "You searched: " . $query;`,
          );
        }

        // --- POST VALIDATION SIMULATOR ---
        else if (type === "validate_form") {
          const val = document.getElementById("postEmail").value;
          const out = document.getElementById("out_validation");

          out.style.color = "#aaa";
          out.innerText = "Processing...";

          setTimeout(() => {
            if (val.trim() === "") {
              out.style.color = "var(--error)";
              out.innerText = "Error: Email is required!";
              render(
                "code_validate",
                `// Input was empty\nif (empty($email)) {\n  echo "Email is required!";\n}`,
              );
            } else {
              out.style.color = "var(--success)";
              out.innerText = "Success: " + val;
              render(
                "code_validate",
                `// Input was valid\n$email = "${val}";\necho "Success: " . $email;`,
              );
            }
          }, 400);
        }

        // --- DB CONNECT SIMULATOR ---
        else if (type === "db_connect") {
          const icon = document.getElementById("dbIcon");
          const status = document.getElementById("dbStatus");
          status.innerText = "CONNECTING...";
          status.style.color = "#ffbd2e";

          setTimeout(() => {
            status.innerText = "CONNECTED (ID: #8329)";
            status.style.color = "var(--success)";
            icon.style.color = "var(--success)";
            icon.className = "fas fa-database"; // Ensure icon is static
          }, 1000);
        }

        // --- STRINGS ---
        else if (type.startsWith("str")) {
          const s = document.getElementById("strMain").value;
          let res = "",
            code = "";

          if (type === "strlen") {
            res = s.length;
            code = `echo strlen("${s}");`;
          } else if (type === "strword") {
            res = s.split(" ").length;
            code = `echo str_word_count("${s}");`;
          } else if (type === "strrev") {
            res = s.split("").reverse().join("");
            code = `echo strrev("${s}");`;
          } else if (type === "strpos") {
            res = s.indexOf("PHP");
            code = `echo strpos("${s}", "PHP");`;
          } else if (type === "strrep") {
            res = s.replace("PHP", "Java");
            code = `echo str_replace("PHP", "Java", "${s}");`;
          }

          document.getElementById("out_" + type).innerText = res;
          render("code_str", code);
        }
      }

      /* --- NEW: EXAM SCENARIO RUNNER --- */
      function runScenario(type) {
        if (type === "discount") {
          const qty = parseInt(document.getElementById("discQty").value);
          const price = parseFloat(document.getElementById("discPrice").value);
          let discount = 0;
          let label = "0% (No Discount)";

          if (qty >= 100) {
            discount = 0.25;
            label = "25% Off";
          } else if (qty >= 50) {
            discount = 0.15;
            label = "15% Off";
          } else if (qty >= 10) {
            discount = 0.1;
            label = "10% Off";
          }

          const total = qty * price;
          const final = total - total * discount;

          document.getElementById("out_discount").innerHTML =
            `Total: ${total}<br>Disc: ${label}<br><b style="color:#fff">Final: ${final}</b>`;
        } else if (type === "hotel") {
          const room = document.getElementById("hotelRoom").value;
          const days = parseInt(document.getElementById("hotelDays").value);
          const kids = parseInt(document.getElementById("hotelKids").value);
          let rate = 5000;
          let kRate = 0;

          if (room === "Deluxe") {
            rate = 8000;
            kRate = 2000;
          }
          if (room === "Suite") {
            rate = 12000;
            kRate = 3000;
          }

          const final = (rate + kids * kRate) * days;
          document.getElementById("out_hotel").innerHTML =
            `${room} x ${days} Days<br>+ ${kids} Kids<br><b style="color:#fff">Cost: Rs ${final}</b>`;
        } else if (type === "insert") {
          const name = document.getElementById("partName").value;
          document.getElementById("out_insert").innerText = "Connecting...";
          setTimeout(() => {
            document.getElementById("out_insert").innerHTML =
              `<span style="color:#27c93f">Success:</span> Data for '${name}' inserted into ParticipantDetails.`;
          }, 600);
        }
      }

      function render(id, code) {
        const html =
          `<span class="php-tag">&lt;?php</span>\n` +
          code
            .replace(/echo/g, '<span class="kwd">echo</span>')
            .replace(/\$/g, '<span class="var">$</span>')
            .replace(/define/g, '<span class="func">define</span>')
            .replace(/if/g, '<span class="kwd">if</span>')
            .replace(/else/g, '<span class="kwd">else</span>')
            .replace(/empty/g, '<span class="kwd">empty</span>')
            .replace(/\/\/(.*)/g, '<span class="comment">//$1</span>')
            .replace(/"(.*?)"/g, '<span class="str">"$1"</span>') +
          `\n<span class="php-tag">?&gt;</span>`;
        document.getElementById(id).innerHTML = html;
      }

      /* --- EXAM --- */
      const questions = [
        { q: "What does PHP stand for?", a: "PHP: Hypertext Preprocessor" },
        { q: "How do you start a PHP block?", a: "&lt;?php ... ?&gt;" },
        { q: "Which character starts a variable?", a: "$ (Dollar Sign)" },
        { q: "Command to output text?", a: "echo or print" },
        { q: "How to end every statement?", a: "; (Semicolon)" },
        { q: "Which file holds DB settings?", a: "config.php (convention)" },
        { q: "How to connect to MySQL?", a: "mysqli_connect()" },
        { q: "Method for sensitive data?", a: "POST (hidden in body)" },
        { q: "Method for URL parameters?", a: "GET (visible in URL)" },
        { q: "Function to check if empty?", a: "empty()" },
        { q: "Variable name for Form data?", a: "$_POST or $_GET" },
        {
          q: "How to validate an email?",
          a: "filter_var($email, FILTER_VALIDATE_EMAIL)",
        },
        { q: "Include a file but warn if missing?", a: "include 'file.php';" },
        { q: "Include a file and stop if missing?", a: "require 'file.php';" },
        { q: "Operator for 'Equal Value and Type'?", a: "===" },
        { q: "Start a session function?", a: "session_start()" },
        { q: "How to access a cookie?", a: "$_COOKIE['name']" },
        { q: "Which variable holds file uploads?", a: "$_FILES" },
        { q: "What is XSS?", a: "Cross-Site Scripting (Security risk)" },
        { q: "How to prevent XSS?", a: "htmlspecialchars()" },
      ];

      const exC = document.getElementById("examContainer");
      questions.forEach((q, i) => {
        exC.innerHTML += `
         <div class="qa-card" onclick="$(this).find('.q-ans').slideToggle()">
            <div class="q-head"><span>${i + 1}. ${q.q}</span><span>‚ñº</span></div>
            <div class="q-ans">${q.a}</div>
         </div>`;
      });
    </script>
  </body>
</html>
